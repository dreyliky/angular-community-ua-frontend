<ng-container *ngIf="data$ | async as data; else loaderTemplate">
    <mat-card
        *ngFor="let comment of data; trackBy: trackByFn"
        class="card">
        <mat-card-header class="header">
            <acua-user-avatar
                mat-card-avatar
                class="user-avatar"
                [avatarUrl]="comment.reviewer.photoUrl" />

            <mat-card-title class="title">
                {{ comment.reviewer.username }}
            </mat-card-title>

            <mat-card-subtitle class="subtitle">
                {{ comment.date | date }}
            </mat-card-subtitle>
        </mat-card-header>

        <mat-card-content class="content">
            <acua-markdown-previewer [data]="comment.message" />
        </mat-card-content>
    </mat-card>
</ng-container>

<ng-template #loaderTemplate>
    <mat-spinner [diameter]="30"></mat-spinner>
</ng-template>
